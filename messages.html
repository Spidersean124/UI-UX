<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calademic – Messages</title>

  <!-- Link shared stylesheet -->
  <link href="VisualStyle.css" rel="stylesheet" type="text/css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
  <div class="iphone13mini-frame">
    <header>
      <h2>Messages</h2>
    </header>

    <!-- Messages section -->
    <section class="messages-section" style="padding: 1rem;">
      <!-- Supervisor opening message -->
      <div class="message-row">
        <img src="supervisor.jpg" alt="Supervisor Avatar" class="avatar" />
        <div class="message-text">
          <p><strong>“PS”</strong> <span class="timestamp">9:15 AM</span></p>
          <p>Hi "Student name", how is your UI/UX Project coming along?</p>
        </div>
      </div>

      <!-- Students response -->
      <div class="message-row you">
        <img src="supervisor.jpg" alt="Student Avatar" class="avatar" />
        <div class="message-text">
          <p><strong>You</strong> <span class="timestamp">9:17 AM</span></p>
          <p>Hi “PS”, if I’m honest, I’m quite stuck. I can’t really wrap my head around the Figma design.</p>
        </div>
      </div>

      <!-- Supervisor reply -->
      <div class="message-row">
        <img src="supervisor.jpg" alt="Supervisor Avatar" class="avatar" />
        <div class="message-text">
          <p><strong>“PS”</strong> <span class="timestamp">10:00 AM</span></p>
          <p>No worries, I’m free at 11:30 — want me to schedule a meeting then?</p>
        </div>
      </div>
    </section>

    <!-- Message input bar -->
    <div class="message-input-bar">
      <input id="messageInput" type="text" placeholder="Type here" />
      <button onclick="sendMessage()"><i class="bi bi-send-fill"></i></button>
    </div>

    <!-- Navigation bar -->
    <div class="nav-bar">
      <a href="settings.html"><i class="bi bi-gear"></i></a>
      <a href="dashboard.html"><i class="bi bi-house-fill"></i></a>
      <a href="messages.html"><i class="bi bi-chat-dots"></i></a>
      <a href="assignments.html"><i class="bi bi-journal-text"></i></a>
    </div>
  </div>
</body>
</html>

<script>
  function sendMessage() {
    const input = document.getElementById("messageInput");
    const text = input.value.trim(); // get what's typed, ignore empty spaces

    if (text !== "") {
      const container = document.querySelector(".messages-section");

      const messageRow = document.createElement("div");
      messageRow.className = "message-row you"; // right-aligned message

      const avatar = document.createElement("img");
      avatar.src = "supervisor.jpg"; // reusing the placeholder
      avatar.alt = "Student Avatar";
      avatar.className = "avatar";

      const content = document.createElement("div");
      content.className = "message-text";

      const now = new Date();
      const time = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

      content.innerHTML = `<p><strong>You</strong> <span class="timestamp">${time}</span></p><p>${text}</p>`;

      messageRow.appendChild(content);
      messageRow.appendChild(avatar);

      container.appendChild(messageRow);
      input.value = "";

      container.scrollTop = container.scrollHeight; // keep newest message in view
    }
  }
</script>

